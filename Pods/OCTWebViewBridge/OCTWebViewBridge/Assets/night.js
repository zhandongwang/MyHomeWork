! function () {var a = 0,b = /rgba\(\s*?\d+?\s*?,\s*?\d+?\s*?,\s*?\d+?\s*?,\s*?0\s*?\)/i,e = /rgb\(\s*?2\d{2}\s*?,\s*?2\d{2}\s*?,\s*?2\d{2}\s*?\)/i,f = /rgb\(\s*?1([4-9])\d\s*?,\s*?1([4-9])\d\s*?,\s*?1([4-9])\d\s*?\)/i,g = /rgba\(255\, 255\, 255\,/i,h = /rgb|-webkit-gradient/i,i = /\bCANVAS\b|\bIMG\b|\bIFRAME\b|\bBR\b|\bSCRIPT\b|\bSTYLE\b/,j =/\bCANVAS\b|\bIMG\b|\bIFRAME\b|\bBR\b|\bSCRIPT\b|\bNOSCRIPT\b|\bSTYLE\b|\bMETA\b|\bLINK\b|\bTITLE\b/,k = /\bINPUT\b|\bSELECT\b/,l = /rgb\s*?\(\s*?2[3-5][0-9]\s*?,\s*?2[3-5][0-9]\s*?,\s*?2[3-5][0-9]\s*?\)/i,m = /H[1-6]/,n = function ( a, b ) {var c, d, e;if ( 1 === a.nodeType && ( b( a, i ), a.hasChildNodes ) )for ( c = a.childNodes, d = 0; d < c.length; d++ ) e = c[ d ], n( e, b )},o = function ( c, d ) {var i, j, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D;if ( c && 3 != c.nodeType && 8 != c.nodeType && ( i = c.tagName.toUpperCase(), !d.test( i ) && !c.classList.contains( "CBATTRIBUTE")&&(c.classList.add("CBATTRIBUTE"),j=window.getComputedStyle(c,null)))){if(n=parseInt(j.width,0),o=parseInt(j.height,0),p=b.test(j.backgroundColor),q=!1,(e.test(j.borderColor)||f.test(j.borderColor))&&(q=!0),r=!1,s=!1,l.test(j.backgroundColor)&&("none"==j.borderStyle&&"0px"==j.borderRadius?s=!0:r=!0),t=!1,"A"==i&&m.test(c.parentElement.tagName)&&(u=sliceRGB(j.color),v=32,parseInt(u[0])<v&&parseInt(u[1])<v&&parseInt(u[2])<v&&(t=!0)),"INPUT"==i&&(c.style.borderRadius=0),w=!1,x=!1,y=!1,""!==j.backgroundImage&&"none"!==j.backgroundImage){if(z=5<c.childNodes.length,A="A"===i&&0===c.innerText.trim().length,B=n/o,C="UL"===i,!A&&!C)switch(j.backgroundRepeat){case"no-repeat":case"no-repeat, no-repeat":C=!k.test(i)&&n>=a&&150>o;break;case"repeat":C=z||n>300||o>300||n>100&&o>100||B>5||.2>B;break;default:C=z||n>300||o>300||n>150&&o>150||B>4||.25>B}C&&(C=!/^cover$/.test(j.getPropertyValue("-webkit-background-size"))),h.test(j.backgroundImage)?w=!0:C&&(x=!0)}else(!p||e.test(j.backgroundColor)||g.test(j.backgroundColor))&&(y=!0);D="",w=w&&!/url/.test(j.backgroundImage),p?D+=w?" CBNightMode_setBorder CBNightMode_changeBgLinear":x?" CBNightMode_setBorder CBNightMode_delBgImg CBNightMode_transparentBkg":" CBNightMode_transparentBkg":w?D+=" CBNightMode_setBorder CBNightMode_changeBgLinear":x&&(D+=" CBNightMode_setBorder CBNightMode_setBackground"),y&&(D+=" CBNightMode_changeBgColor"),q&&(D+=" CBNightMode_changeBorder"),s&&(D+=" CBEyeGreenMode_NoBorderChangeBGColor"),r&&(D+=" CBEyeGreenMode_HasBorderChangeBGColor"),t&&(D+=" CBEyeGreenMode_TextColor"),c.className+=D,c.classList.add("CBATTRIBUTE_Done")}},p=document.getElementsByTagName("body")[0];document.addEventListener("DOMNodeInserted",function(a){n(a.target,function(a){o(a,j)})},!1),n(p,function(a,b){o(a,b)})}();

